{"version":3,"sources":["componets/Searchbar/Searchbar.module.css","componets/ImageGallery/HomeLink/HomeLink.module.css","componets/Modal/Modal.module.css","componets/Spinner/Spiner.module.css","componets/ImageGallery/Button/Button.module.css","componets/BtnToTop/BtnToTop.module.css","componets/Searchbar/Searchbar.js","services/api-img-service.js","componets/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","componets/ImageGallery/HomeLink/HomeLink.js","componets/Spinner/Spinner.js","componets/ImageGallery/Button/Button.js","componets/Modal/Modal.js","services/modal-service.js","componets/ImageGallery/ImageGallery.js","componets/BtnToTop/BtnToTop.js","App.js","index.js","componets/ImageGallery/ImageGallery.module.css"],"names":["module","exports","Searchbar","state","searchQuery","inputRef","React","createRef","handleInputChange","e","setState","currentTarget","value","handleSubmit","preventDefault","trim","props","searchQueryToUp","current","placeholder","toast","warn","autoClose","theme","icon","this","className","s","SearchForm","onSubmit","type","SearchFormButton","SearchFormInput","name","ref","onChange","pattern","title","Component","ImagesApiService","KEY","BASE_URL","page","orientation","imgType","query","a","url","axios","get","response","imgApiService","ImageGalleryItem","arr","webformatURL","tags","largeImageURL","id","href","ImageGalleryItemLink","onClick","imgIdToUp","src","alt","ImageGalleryItemImage","HomeLink","pageURL","homePageUrl","target","rel","homeIcon","Spinner","loaderBox","color","height","width","timeout","Button","clickButton","buttonClick","loadMoreButton","modalRoot","document","querySelector","Modal","closeModal","closeModalClick","handleKeyDown","code","closeModalEsc","changeImg","window","addEventListener","removeEventListener","createPortal","Overlay","children","imgOpen","soughtIndex","findIndex","item","Number","parseInt","imgId","changeModalImg","direction","innerWidth","curImgIndex","nextImgIndex","length","modalImageRun","ImageGallery","imgObjArr","totalImg","status","showModal","loadMore","newPage","fetchImages","newRequest","console","log","prevState","data","hits","totalHits","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","openModal","imageId","moveImg","prevProps","galleryTitle","toUpperCase","galleryContainer","map","modalImg","clientX","BtnToTop","toTop","throttle","scrollWatch","scrollY","btnToTop","App","searchQuerySubmit","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.27121334.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__voq4c\",\"SearchForm\":\"Searchbar_SearchForm__3TCvk\",\"SearchFormButton\":\"Searchbar_SearchFormButton__VB074\",\"SearchFormInput\":\"Searchbar_SearchFormInput__15nlU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"homePageUrl\":\"HomeLink_homePageUrl__3jFSp\",\"homeIcon\":\"HomeLink_homeIcon__2x9Ux\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3T5pv\",\"Modal\":\"Modal_Modal__1HU7s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loaderBox\":\"Spiner_loaderBox__3IQcV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loadMoreButton\":\"Button_loadMoreButton__rd3_m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnToTop\":\"BtnToTop_btnToTop__yMWCX\",\"hide-el\":\"BtnToTop_hide-el__1nBa5\"};","import React, { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport PropTypes from 'prop-types';\r\nimport { ImSearch } from 'react-icons/im';\r\nimport s from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n\r\n    state = {\r\n       searchQuery: '',\r\n    };\r\n\r\n    inputRef = React.createRef();\r\n\r\n    handleInputChange = e => this.setState ({searchQuery: e.currentTarget.value,});\r\n    \r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n        if (this.state.searchQuery.trim() === '') {\r\n            toast.warn('Введи что-то!', {\r\n                autoClose: 2000,\r\n                theme: \"colored\",\r\n                icon: false,\r\n                }\r\n            );\r\n            return;\r\n        };\r\n        this.props.searchQueryToUp(this.state.searchQuery);\r\n        this.inputRef.current.placeholder = this.state.searchQuery;\r\n        this.setState({ searchQuery: '' });\r\n    };\r\n\r\n    render() {\r\n        const { searchQuery } = this.state;\r\n        const { handleInputChange, handleSubmit } = this;\r\n        return (\r\n            <div className={s.Searchbar} >\r\n                <form className={s.SearchForm} onSubmit={handleSubmit}>\r\n                    <button type=\"submit\" className={s.SearchFormButton}>\r\n                        <ImSearch/>\r\n                    </button>\r\n                    <label >\r\n                        <input\r\n                            className={s.SearchFormInput}\r\n                            type=\"text\"\r\n                            name=\"searchInput\"\r\n                            ref={this.inputRef}\r\n                            placeholder=\"search\"\r\n                            value={searchQuery}\r\n                            onChange={handleInputChange}  \r\n                            pattern=\"^[0-9a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\r\n                            title=\"Поисковое слово может состоять только из букв, апострофа, тире, цифр и пробелов.\"\r\n                            // required\r\n                        />\r\n                    </label> \r\n                </form>     \r\n           </div>\r\n        )\r\n    };\r\n};\r\n\r\nSearchbar.propTypes = {\r\n    searchQuery: PropTypes.string,\r\n};\r\n\r\nexport default Searchbar;","import axios from '../../node_modules/axios';\r\n\r\nclass ImagesApiService {\r\n    constructor() {\r\n        this.searchQuery = '';\r\n        this.KEY = '22984321-98218ca8e9b1f3be57a008ac4&q';\r\n        this.BASE_URL = 'https://pixabay.com/api/';\r\n        this.page = 1;\r\n        this.orientation = 'all';\r\n        this.imgType = 'all';\r\n    }\r\n\r\n    /* вариант используя async-away + axios + try-catch, который применен в ф-ции выше*/\r\n    \r\n    async fetchImages(query, page) {\r\n        this.searchQuery = query;\r\n        this.page = page;\r\n        const url = `${this.BASE_URL}?image_type=${this.imgType}&orientation=${this.orientation}&page=${this.page}&per_page=12&key=${this.KEY}&q=${this.searchQuery}`;\r\n        const response = await axios.get(url);\r\n        return response;\r\n    }\r\n    \r\n    // incrementPage() {\r\n    //     this.page += 1;\r\n    // }\r\n\r\n    // resetPage() {\r\n    //     this.page = 1;\r\n    // }\r\n\r\n    // get query() {\r\n    //     return this.searchQuery;\r\n    // }\r\n\r\n    // set query(newQuery) {\r\n    //     this.searchQuery = newQuery;\r\n    // }\r\n};\r\n\r\nconst imgApiService = new ImagesApiService();\r\n\r\nexport default imgApiService;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './ImageGallery.moduleItem.css';\r\n\r\n\r\nclass ImageGalleryItem extends Component {\r\n\r\n    // linkToClick = e => {\r\n    //     e.preventDefault();\r\n    //     return this.props.imgIdToUp(e.currentTarget.id);\r\n    // };\r\n\r\n    render() {\r\n        const { webformatURL, tags, largeImageURL, id } = this.props.arr;\r\n        return (\r\n            <a\r\n                href={largeImageURL}\r\n                id={id}\r\n                className={s.ImageGalleryItemLink}\r\n                onClick={e => {\r\n                    e.preventDefault();\r\n                    return this.props.imgIdToUp(e.currentTarget.id);\r\n            }}>\r\n                <img src={webformatURL} alt={tags} className={s.ImageGalleryItemImage} />\r\n            </a> \r\n        );  \r\n    };\r\n    \r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n    webformatURL: PropTypes.string,\r\n    tags: PropTypes.string,\r\n    id: PropTypes.number\r\n};\r\n\r\nexport default ImageGalleryItem;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './HomeLink.module.css';\r\nimport { ImHome } from 'react-icons/im';\r\n\r\nconst HomeLink = ({ arr }) => {\r\n    const { pageURL } = arr;\r\n    return (\r\n        <a href={pageURL} className={s.homePageUrl} target=\"_blank\" rel=\"noreferrer\">\r\n            <ImHome className={s.homeIcon}/>\r\n        </a>\r\n    );\r\n};\r\n\r\nHomeLink.propTypes = {\r\n    pageURL: PropTypes.string\r\n};\r\n\r\nexport default HomeLink;","import React, { Component } from 'react';\r\nimport Loader from \"react-loader-spinner\";\r\nimport s from './Spiner.module.css'\r\n\r\nclass Spinner extends Component {\r\n  //other logic\r\n  render() {\r\n    return (\r\n      <div className={s.loaderBox}>\r\n        <Loader\r\n        type=\"Circles\"  //Audio Bars BallTriangle Circles Grid Oval Puff Rings TailSpin ThreeDots Hearts\r\n        color=\"#617a53\"\r\n        height={160}\r\n        width={160}\r\n        timeout={5000} // ms\r\n       />\r\n      </div>\r\n      \r\n    );\r\n  }\r\n};\r\n\r\nexport default Spinner;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Button.module.css'\r\n\r\nclass Button extends Component {\r\n\r\n    clickButton = this.props.buttonClick;\r\n\r\n    render() { \r\n       return (\r\n        <button type=\"button\" className={s.loadMoreButton} onClick={this.clickButton}>Load more</button>      \r\n        ) \r\n    };\r\n};\r\n\r\nButton.propTypes = {\r\n    buttonClick: PropTypes.func\r\n}\r\n\r\nexport default Button;\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root')\r\n\r\nclass Modal extends Component {\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleKeyDown);\r\n    };\r\n\r\n    // componentDidUpdate() {\r\n    //     console.log('componentDidUpdate')\r\n    // };\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.handleKeyDown);\r\n    };\r\n\r\n    closeModal = e => {\r\n        e.target === e.currentTarget && this.props.closeModalClick(true)\r\n    };\r\n\r\n    handleKeyDown = e => {\r\n        (e.code === 'Escape') && this.props.closeModalEsc();\r\n        (e.code === \"ArrowRight\" || e.code === \"ArrowLeft\") && this.props.changeImg(e.code);\r\n    };\r\n\r\n    render() {\r\n        const {closeModal} = this\r\n        return createPortal(\r\n\r\n            <div className={s.Overlay} onClick={closeModal}>\r\n                <div className={s.Modal}>\r\n                    {this.props.children}\r\n                </div>\r\n            </div>,\r\n\r\n            modalRoot,\r\n        )\r\n    };\r\n};\r\n\r\nexport default Modal;\r\n\r\n","/* ===== опредилени данных предстоящей картинки ===== */\r\n\r\nexport function imgOpen(id, arr) {\r\n    const soughtIndex = arr.findIndex(item => item.id === Number.parseInt(id) );\r\n    const largeImageURL = arr[soughtIndex].largeImageURL;\r\n    const tags = arr[soughtIndex].tags;\r\n    const imgId = arr[soughtIndex].id;\r\n    return {largeImageURL, tags, imgId}\r\n};\r\n\r\n/* ===== изменение данных картинки ===== */\r\n \r\nexport function modalImageRun(direction, id, arr) {\r\n\r\n    const curImgIndex = arr.findIndex(item => item.id === id);\r\n\r\n    let nextImgIndex = 0;\r\n\r\n    if (direction === 'right') {\r\n        curImgIndex === arr.length - 1 ?\r\n        nextImgIndex = 0 :\r\n        nextImgIndex = curImgIndex + 1; \r\n    } else {\r\n        curImgIndex === 0 ?\r\n        nextImgIndex = arr.length - 1 :\r\n        nextImgIndex = curImgIndex - 1;\r\n    };\r\n\r\n    let largeImageURL = arr[nextImgIndex].largeImageURL;\r\n    let tags = arr[nextImgIndex].tags;\r\n    let imgId = arr[nextImgIndex].id;\r\n    \r\n    return { largeImageURL, tags, imgId };\r\n};\r\n\r\n/* ===== перелистывание картинок в модальном окне клиом мыши или клавишами \"влево-вправо\"===== */\r\n\r\nexport function changeModalImg(value, id, arr) {\r\n    \r\n    let direction = '';\r\n\r\n    if (value === \"ArrowRight\" || value >= (window.innerWidth / 2)) {\r\n        direction = 'right';\r\n    };\r\n\r\n    if (value === \"ArrowLeft\" || value < (window.innerWidth / 2)) {\r\n        direction = 'left';\r\n    };\r\n\r\n    return modalImageRun(direction, id, arr);\r\n};","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './ImageGallery.module.css';\r\nimport imgApiService from '../../services/api-img-service';\r\nimport ImageGalleryItem from './ImageGalleryItem';\r\nimport HomeLink from './HomeLink';\r\nimport Spinner from '../Spinner'\r\nimport Button from './Button';\r\nimport Modal from '../Modal';\r\nimport { imgOpen, changeModalImg } from '../../services/modal-service';\r\n\r\nclass ImageGallery extends Component {\r\n    state = {\r\n        searchQuery: null,\r\n        imgObjArr: [],\r\n        page: 1,\r\n        totalImg: 0,\r\n        status: 'idle',\r\n        showModal: false,\r\n        largeImageURL: '',\r\n        tags: '',\r\n        imgId: 0,\r\n    };\r\n\r\n    async componentDidUpdate(prevProps, prevState) {\r\n        if ((prevProps.searchQuery !== this.props.searchQuery)) {\r\n            this.setState({\r\n                status: 'pending',\r\n            })\r\n            let newRequest;\r\n            try {\r\n                newRequest = await imgApiService.fetchImages(this.props.searchQuery, 1);\r\n            }\r\n            catch (error) {\r\n                console.log('Error: request failed');\r\n                return this.setState({status: 'failed'})\r\n            };\r\n\r\n            if (newRequest.data.totalHits === 0) {\r\n                return this.setState({status: 'rejected'})\r\n            }\r\n\r\n            this.setState({\r\n                searchQuery: this.props.searchQuery,\r\n                imgObjArr: [ ...newRequest.data.hits],\r\n                page: 1,\r\n                totalImg: newRequest.data.totalHits,\r\n                status: 'resolved',\r\n            });  \r\n        };\r\n        \r\n    };\r\n\r\n\r\n    loadMore = async () => {\r\n        \r\n        const { searchQuery, page } = this.state;\r\n        if (searchQuery === this.props.searchQuery) {\r\n            let newRequest;\r\n            let newPage = page + 1;\r\n            try {\r\n                newRequest = await imgApiService.fetchImages(searchQuery, newPage);\r\n            }\r\n            catch (error) {\r\n                console.log('Error: request failed');\r\n                return this.setState({status: 'failed'})\r\n            };\r\n\r\n            this.setState(prevState => {\r\n                return ({\r\n                    imgObjArr: [...prevState.imgObjArr, ...newRequest.data.hits],\r\n                    page: newPage,\r\n                    totalImg: newRequest.data.totalHits,\r\n                })\r\n            });\r\n            \r\n            window.scrollTo({\r\n                top: document.documentElement.scrollHeight,\r\n                behavior: 'smooth',\r\n            }); \r\n        };\r\n    };\r\n\r\n    closeModalClick = (data) => {\r\n       data && this.toggleModal()\r\n    };\r\n\r\n    toggleModal = () => {\r\n        this.setState(({ showModal }) => (\r\n            {showModal: !showModal}\r\n        ))\r\n    };\r\n\r\n    openModal = (imageId) => {\r\n        const { largeImageURL, tags, imgId } = imgOpen(imageId, this.state.imgObjArr);\r\n        this.setState(({ showModal }) => ({\r\n            showModal: !showModal,\r\n            imgId,\r\n            largeImageURL,\r\n            tags\r\n        }))\r\n    };\r\n\r\n    moveImg = value => {\r\n        const { largeImageURL, tags, imgId } = changeModalImg(value, this.state.imgId, this.state.imgObjArr);\r\n        this.setState({\r\n            imgId,\r\n            largeImageURL,\r\n            tags\r\n        })\r\n    };\r\n\r\n    render() {\r\n        // console.log('state: ', this.state)\r\n        const { searchQuery, imgObjArr, status, totalImg, showModal, largeImageURL, tags,  page } = this.state;\r\n        const { openModal, loadMore, closeModalClick, toggleModal, moveImg } = this;\r\n\r\n        if (status === 'idle') {\r\n            return <h2 className={s.galleryTitle}>Введите запрос</h2>\r\n        } \r\n\r\n        if (status === 'pending') {\r\n            return <Spinner/>\r\n        }\r\n\r\n        if (status === 'rejected') {\r\n            return <h2 className={s.galleryTitle}>По запросу \"{this.props.searchQuery.toUpperCase()}\" ничего не найдено</h2>\r\n        }\r\n\r\n        if (status === 'failed') {\r\n            return <h2 className={s.galleryTitle}>Error: request failed. Нет соединения с интернетом или сервером</h2>\r\n        }\r\n\r\n        if (status === 'resolved') {\r\n            return (\r\n            <>\r\n                <div className={s.galleryContainer} id=\"events\" >\r\n                        <h2 className={s.galleryTitle}>Найдено {totalImg} изображений по запросу \"{searchQuery.toUpperCase()}\":</h2>\r\n                    <ul className={s.ImageGallery} >\r\n                        {imgObjArr.map(item => {\r\n                            const { id } = item;\r\n                            return (\r\n                                <li key={id} className={s.ImageGalleryItem}>\r\n                                    <ImageGalleryItem arr={item} imgIdToUp={openModal}/>\r\n                                    <HomeLink arr={item}/>\r\n                                </li>\r\n                            );\r\n                        })}\r\n                    </ul>\r\n                        \r\n                    {(page * 12 < totalImg) && <Button buttonClick={loadMore}/>}\r\n                    {(page * 12 >= totalImg) && <h2 className={s.galleryTitle}>Запрос \"{searchQuery.toUpperCase()}\" успешно выполнен</h2>}  \r\n                </div>\r\n                    \r\n                {showModal &&\r\n                <Modal closeModalClick={closeModalClick} closeModalEsc={toggleModal} changeImg={moveImg}>\r\n                    <img src={largeImageURL} alt={tags} className={s.modalImg} onClick={e => moveImg(e.clientX)}/>\r\n                </Modal>}\r\n                </>\r\n            )\r\n        };\r\n    };\r\n};\r\n\r\nImageGallery.propTypes = {\r\n    id: PropTypes.number,\r\n};\r\n\r\nexport default ImageGallery;","import React, { Component } from 'react';\r\nimport { throttle } from 'throttle-debounce';\r\nimport { IoArrowUpSharp } from \"react-icons/io5\";\r\nimport s from './BtnToTop.module.css';\r\n\r\nclass BtnToTop extends Component {\r\n\r\n    state = {\r\n       status: 'hide'\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('scroll', throttle(500, e => this.scrollWatch()));\r\n    }\r\n\r\n    scrollWatch() {\r\n        let scroll_position = window.scrollY;\r\n        scroll_position > 140 ?\r\n            this.setState({ status: 'visible' }) :\r\n            this.setState({ status: 'hide' });\r\n    };\r\n\r\n    toTop = () => {\r\n    window.scrollTo({\r\n                top: 0,\r\n                behavior: 'smooth',\r\n            });  \r\n  };\r\n\r\n    render() {\r\n\r\n        const { status } = this.state;\r\n\r\n        if (status === 'hide') {\r\n            return <></>\r\n        }\r\n\r\n        if (status === 'visible') {\r\n            return (\r\n                <button type=\"button\"\r\n                    className={s.btnToTop}\r\n                    onClick={this.toTop}>\r\n                        <IoArrowUpSharp/>\r\n                </button>\r\n            )\r\n        }   \r\n    };\r\n};\r\n\r\nexport default BtnToTop;","import React, { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './App.css';\nimport Searchbar from './componets/Searchbar';\nimport ImageGallery from './componets/ImageGallery';\nimport BtnToTop from './componets/BtnToTop';\n\n\nclass App extends Component {\n\n  state = {\n    searchQuery: '',\n  };\n\n  searchQuerySubmit = searchQuery => this.setState({ searchQuery });\n      \n  render() {\n\n    const { searchQuery } = this.state;\n    const {searchQuerySubmit } = this;\n\n    return (\n\n      <div className=\"App\">\n\n        <Searchbar searchQueryToUp={searchQuerySubmit} />\n        \n        <ImageGallery searchQuery={searchQuery}/>\n        \n        <ToastContainer/>\n\n        <BtnToTop />\n\n      </div>\n    )\n  };\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'modern-normalize/modern-normalize.css';\nimport App from './App';\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n\nconsole.log('Привіт, світ! Життя химерне!');\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryContainer\":\"ImageGallery_galleryContainer__pmDat\",\"ImageGallery\":\"ImageGallery_ImageGallery__2jGtM\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__3AdI-\",\"galleryTitle\":\"ImageGallery_galleryTitle__1SRlB\",\"modalImg\":\"ImageGallery_modalImg__3EQJ3\"};"],"sourceRoot":""}